<p align="center">
  <img src="public/icons/icon128.png" alt="Spyder-Scribe" width="128" height="128" />
</p>

<h1 align="center">Spyder-Scribe</h1>

<p align="center">
  <strong>AI-powered browser translation with multiple LLM providers</strong>
</p>

<p align="center"><strong>Tech Stack</strong></p>
<p align="center">
  <img src="https://img.shields.io/badge/license-MIT-blue.svg?style=for-the-badge" alt="License" />
  <img src="https://img.shields.io/badge/React-19-20232a?logo=react&style=for-the-badge" alt="React" />
  <img src="https://img.shields.io/badge/TypeScript-5.9-3178c6?logo=typescript&style=for-the-badge" alt="TypeScript" />
  <img src="https://img.shields.io/badge/Vite-7-646cff?logo=vite&style=for-the-badge" alt="Vite" />
  <img src="https://img.shields.io/badge/Tailwind_CSS-4-38bdf8?logo=tailwindcss&style=for-the-badge" alt="Tailwind CSS" />
</p>

<p align="center"><strong>Providers</strong></p>
<p align="center">
  <img src="https://img.shields.io/badge/Google%20Gemini-8E75B2?style=for-the-badge&logo=google&logoColor=white" alt="Google Gemini" />
  <img src="https://img.shields.io/badge/xAI%20Grok-000000?style=for-the-badge&logo=x&logoColor=white" alt="xAI Grok" />
  <img src="https://img.shields.io/badge/OpenAI-412991?style=for-the-badge&logo=data:image/svg%2Bxml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMzIwIDMyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz4NCjxwYXRoIGZpbGw9IndoaXRlIiBkPSdtMjk3LjA2IDEzMC45N2M3LjI2LTIxLjc5IDQuNzYtNDUuNjYtNi44NS02NS40OC0xNy40Ni0zMC40LTUyLjU2LTQ2LjA0LTg2Ljg0LTM4LjY4LTE1LjI1LTE3LjE4LTM3LjE2LTI2Ljk1LTYwLjEzLTI2LjgxLTM1LjA0LS4wOC02Ni4xMyAyMi40OC03Ni45MSA1NS44Mi0yMi41MSA0LjYxLTQxLjk0IDE4LjctNTMuMzEgMzguNjctMTcuNTkgMzAuMzItMTMuNTggNjguNTQgOS45MiA5NC41NC03LjI2IDIxLjc5LTQuNzYgNDUuNjYgNi44NSA2NS40OCAxNy40NiAzMC40IDUyLjU2IDQ2LjA0IDg2Ljg0IDM4LjY4IDE1LjI0IDE3LjE4IDM3LjE2IDI2Ljk1IDYwLjEzIDI2LjggMzUuMDYuMDkgNjYuMTYtMjIuNDkgNzYuOTQtNTUuODYgMjIuNTEtNC42MSA0MS45NC0xOC43IDUzLjMxLTM4LjY3IDE3LjU3LTMwLjMyIDEzLjU1LTY4LjUxLTkuOTQtOTQuNTF6bS0xMjAuMjggMTY4LjExYy0xNC4wMy4wMi0yNy42Mi00Ljg5LTM4LjM5LTEzLjg4LjQ5LS4yNiAxLjM0LS43MyAxLjg5LTEuMDdsNjMuNzItMzYuOGMzLjI2LTEuODUgNS4yNi01LjMyIDUuMjQtOS4wN3YtODkuODNsMjYuOTMgMTUuNTVjLjI5LjE0LjQ4LjQyLjUyLjc0djc0LjM5Yy0uMDQgMzMuMDgtMjYuODMgNTkuOS01OS45MSA1OS45N3ptLTEyOC44NC01NS4wM2MtNy4wMy0xMi4xNC05LjU2LTI2LjM3LTcuMTUtNDAuMTguNDcuMjggMS4zLjc5IDEuODkgMS4xM2w2My43MiAzNi44YzMuMjMgMS44OSA3LjIzIDEuODkgMTAuNDcgMGw3Ny43OS00NC45MnYzMS4xYy4wMi4zMi0uMTMuNjMtLjM4LjgzbC02NC40MSAzNy4xOWMtMjguNjkgMTYuNTItNjUuMzMgNi43LTgxLjkyLTIxLjk1em0tMTYuNzctMTM5LjA5YzctMTIuMTYgMTguMDUtMjEuNDYgMzEuMjEtMjYuMjkgMCAuNTUtLjAzIDEuNTItLjAzIDIuMnY3My42MWMtLjAyIDMuNzQgMS45OCA3LjIxIDUuMjMgOS4wNmw3Ny43OSA0NC45MS0yNi45MyAxNS41NWMtLjI3LjE4LS42MS4yMS0uOTEuMDhsLTY0LjQyLTM3LjIyYy0yOC42My0xNi41OC0zOC40NS01My4yMS0yMS45NS04MS44OXptMjIxLjI2IDUxLjQ5LTc3Ljc5LTQ0LjkyIDI2LjkzLTE1LjU0Yy4yNy0uMTguNjEtLjIxLjkxLS4wOGw2NC40MiAzNy4xOWMyOC42OCAxNi41NyAzOC41MSA1My4yNiAyMS45NCA4MS45NC03LjAxIDEyLjE0LTE4LjA1IDIxLjQ0LTMxLjIgMjYuMjh2LTc1LjgxYy4wMy0zLjc0LTEuOTYtNy4yLTUuMi05LjA2em0yNi44LTQwLjM0Yy0uNDctLjI5LTEuMy0uNzktMS44OS0xLjEzbC02My43Mi0zNi44Yy0zLjIzLTEuODktNy4yMy0xLjg5LTEwLjQ3IDBsLTc3Ljc5IDQ0Ljkydi0zMS4xYy0uMDItLjMyLjEzLS42My4zOC0uODNsNjQuNDEtMzcuMTZjMjguNjktMTYuNTUgNjUuMzctNi43IDgxLjkxIDIyIDYuOTkgMTIuMTIgOS41MiAyNi4zMSA3LjE1IDQwLjF6bS0xNjguNTEgNTUuNDMtMjYuOTQtMTUuNTVjLS4yOS0uMTQtLjQ4LS40Mi0uNTItLjc0di03NC4zOWMuMDItMzMuMTIgMjYuODktNTkuOTYgNjAuMDEtNTkuOTQgMTQuMDEgMCAyNy41NyA0LjkyIDM4LjM0IDEzLjg4LS40OS4yNi0xLjMzLjczLTEuODkgMS4wN2wtNjMuNzIgMzYuOGMtMy4yNiAxLjg1LTUuMjYgNS4zMS01LjI0IDkuMDZsLS4wNCA4OS43OXptMTQuNjMtMzEuNTQgMzQuNjUtMjAuMDEgMzQuNjUgMjB2NDAuMDFsLTM0LjY1IDIwLTM0LjY1LTIweicvPg0KPC9zdmc+DQo=" alt="OpenAI">
</p>

<p align="center">
  <a href="#features">Features</a> â€¢
  <a href="#installation">Installation</a> â€¢
  <a href="#usage">Usage</a> â€¢
  <a href="#configuration">Configuration</a> â€¢
  <a href="#development">Development</a> â€¢
  <a href="#architecture">Architecture</a>
</p>

---

## Features

ğŸŒ **Multi-Provider Translation**

- Google Gemini (2.5 Flash, 2.5 Pro, and more)
- xAI Grok (4.1 Fast, Reasoning variants)
- OpenAI GPT (5-nano, 5-mini, 5)

âš¡ **Translation Modes**

- **Full Page** â€“ Translate entire web pages with one click
- **Selection Popup** â€“ Select text to see instant translations
- **Context Menu** â€“ Right-click to translate selection

ğŸ§  **Smart Caching**

- Hybrid in-memory + IndexedDB cache
- 7-day TTL with LRU eviction
- Survives browser/extension restarts

ğŸ¨ **Modern UI**

- Dark theme with glassmorphism design
- Draggable & resizable translation popups
- Toast notifications for feedback

ğŸ›¡ï¸ **Privacy & Control**

- Per-site blacklisting
- All API keys stored locally
- No data sent to third parties (only to chosen AI provider)

---

## Screenshots

| Translate                                                                                                                          |                                                              Settings                                                              |                                                               Cache                                                                |
|------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------:|:----------------------------------------------------------------------------------------------------------------------------------:|
| <img width="355" height="470" alt="image" src="https://github.com/user-attachments/assets/6a656eb8-fb7d-4c63-a9b1-a6289b29a402" /> | <img width="354" height="543" alt="image" src="https://github.com/user-attachments/assets/65e50311-8ec8-4c88-8262-4697e3a710d5" /> | <img width="355" height="548" alt="image" src="https://github.com/user-attachments/assets/0e191cad-5b2b-4516-a005-b9c9560eefba" /> |

---

## Installation

### From Source

1. **Clone the repository**
   ```bash
   git clone https://github.com/medy17/SpyderScribe.git
   cd SpyderScribe
   ```

2. **Install dependencies**
   ```bash
   pnpm install
   ```

3. **Build the extension**
   ```bash
   pnpm build
   ```

4. **Load in Chrome**
    - Navigate to `chrome://extensions`
    - Enable **Developer mode** (top right)
    - Click **Load unpacked**
    - Select the `dist` folder

---

## Usage

### Full Page Translation

1. Click the Spyder-Scribe icon in your browser toolbar
2. Select source and target languages
3. Click **Translate Page**
4. Click **Revert** to restore original text

### Selection Translation

1. Select any text on a webpage
2. A floating popup appears with the translation
3. Drag to reposition, resize as needed
4. Click outside to dismiss

### Context Menu

- Right-click selected text â†’ **Translate Selection**
- Right-click on page â†’ **Disable/Enable Spyder-Scribe on this site**

---

## Configuration

Open the extension popup and go to the **Settings** tab:

| Setting            | Description                              |
|--------------------|------------------------------------------|
| **Gemini API Key** | Your Google AI Studio API key            |
| **Grok API Key**   | Your xAI API key                         |
| **OpenAI API Key** | Your OpenAI API key                      |
| **Model**          | Choose which AI model to use             |
| **Custom Prompt**  | Optional custom translation instructions |

### Getting API Keys

- **Gemini**: [Google AI Studio](https://aistudio.google.com/)
- **Grok**: [xAI Platform](https://x.ai/)
- **OpenAI**: [OpenAI Platform](https://platform.openai.com/)

---

## Development

This project uses [Vite](https://vitejs.dev/) with [@crxjs/vite-plugin](https://crxjs.dev/vite-plugin) for hot-reloading
during development.

### Setup

```bash
pnpm install
pnpm dev
```

Then load the `dist` folder as an unpacked extension. Changes will hot-reload automatically!

> **Tip:** If you see "Cannot connect to Vite Dev Server", ensure `pnpm dev` is running and reload the extension.

### Scripts

| Command              | Description               |
|----------------------|---------------------------|
| `pnpm dev`           | Start dev server with HMR |
| `pnpm build`         | Production build          |
| `pnpm lint`          | Run ESLint                |
| `pnpm test`          | Run tests                 |
| `pnpm test:watch`    | Run tests in watch mode   |
| `pnpm test:coverage` | Run tests with coverage   |

### Tech Stack

| Technology   | Version |
|--------------|---------|
| React        | 19      |
| TypeScript   | 5.9     |
| Vite         | 7       |
| Tailwind CSS | 4       |
| Vitest       | 4       |
| shadcn/ui    | Latest  |

---

## Architecture

See [ARCHITECTURE.md](./ARCHITECTURE.md) for detailed documentation on:

- Component structure
- Data flow diagrams
- Translation pipeline
- Caching system
- Error handling
- Testing strategy

---

## Project Structure

```
src/
â”œâ”€â”€ background/          # Service worker (message handling, API calls)
â”‚   â”œâ”€â”€ handlers/        # Message routing
â”‚   â”œâ”€â”€ managers/        # Context menus
â”‚   â””â”€â”€ services/        # Cache, translation, providers
â”œâ”€â”€ content/             # Injected into web pages
â”‚   â””â”€â”€ selection/       # Text selection & popup
â”œâ”€â”€ popup/               # Extension popup UI (React)
â”‚   â””â”€â”€ components/      # Tab components
â”œâ”€â”€ components/ui/       # shadcn/ui components
â”œâ”€â”€ lib/                 # Shared utilities
â””â”€â”€ __tests__/           # Test suite
```

---

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

## License

This project is distributed under the MIT License by Ahmed Arat (Aliases: medy17, medy404, `_medy__`). All rights
reserved.

---

<p align="center">
  Made with â¤ï¸ and ğŸ•·ï¸
</p>
